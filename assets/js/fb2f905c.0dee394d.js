"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[904],{5803:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"implementacion","title":"Implementaci\xf3n del Gestor de Contrase\xf1as","description":"","source":"@site/docs/implementacion.md","sourceDirName":".","slug":"/implementacion","permalink":"/docusaurus/docs/implementacion","draft":false,"unlisted":false,"editUrl":"https://github.com/JuanEdu74/docusaurus-codigofuente/edit/main/docs/implementacion.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Requisitos para Implementar un Gestor de Contrase\xf1as","permalink":"/docusaurus/docs/requisitos"},"next":{"title":"Uso Pr\xe1ctico del Gestor de Contrase\xf1as","permalink":"/docusaurus/docs/uso-practico"}}');var t=n(4848),o=n(8453);const a={sidebar_position:3},i="Implementaci\xf3n del Gestor de Contrase\xf1as",c={},u=[];function d(e){const r={code:"code",h1:"h1",header:"header",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"implementaci\xf3n-del-gestor-de-contrase\xf1as",children:"Implementaci\xf3n del Gestor de Contrase\xf1as"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"// Paso 1: Conexi\xf3n a la Base de Datos\r\nconst mongoose = require('mongoose');\r\nconst bcrypt = require('bcryptjs');\r\n\r\nmongoose.connect('mongodb://localhost/gestorContrase\xf1as', {\r\n  useNewUrlParser: true,\r\n  useUnifiedTopology: true,\r\n});\r\n\r\n// Paso 2: Esquema de Usuario\r\nconst userSchema = new mongoose.Schema({\r\n  username: { type: String, required: true, unique: true },\r\n  password: { type: String, required: true },\r\n});\r\n\r\nconst User = mongoose.model('User', userSchema);\r\n\r\n// Paso 3: Cifrado de Contrase\xf1as\r\nasync function cifrarContrase\xf1a(contrase\xf1a) {\r\n  const salt = await bcrypt.genSalt(10);\r\n  return await bcrypt.hash(contrase\xf1a, salt);\r\n}\r\n\r\n// Paso 4: Verificaci\xf3n de Contrase\xf1as\r\nasync function verificarContrase\xf1a(input, hashed) {\r\n  return await bcrypt.compare(input, hashed);\r\n}\r\n\r\n// Paso 5: Registro y Autenticaci\xf3n\r\nasync function registrarUsuario(username, password) {\r\n  const hash = await cifrarContrase\xf1a(password);\r\n  const user = new User({ username, password: hash });\r\n  await user.save();\r\n}\r\n\r\nasync function autenticarUsuario(username, password) {\r\n  const user = await User.findOne({ username });\r\n  if (!user) throw new Error('No encontrado');\r\n  const valido = await verificarContrase\xf1a(password, user.password);\r\n  if (!valido) throw new Error('Incorrecta');\r\n  return user;\r\n}\r\n\r\n// Ejemplo de uso\r\n(async () => {\r\n  try {\r\n    await registrarUsuario('juan', '123456');\r\n    const user = await autenticarUsuario('juan', '123456');\r\n    console.log('Autenticado:', user.username);\r\n  } catch (err) {\r\n    console.error('Error:', err.message);\r\n  } finally {\r\n    mongoose.disconnect();\r\n  }\r\n})();\n"})})]})}function m(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>i});var s=n(6540);const t={},o=s.createContext(t);function a(e){const r=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(o.Provider,{value:r},e.children)}}}]);